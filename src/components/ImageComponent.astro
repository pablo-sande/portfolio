---
import type { ImageMetadata } from 'astro'
import { Image } from 'astro:assets'

interface Props {
	imagePath: string
	altText: string
	customClass: string
}

const { imagePath, altText, customClass } = Astro.props
const images: any = await Astro.glob<ImageMetadata>('./assets/*')

const img = images.find(
	(i: { default: { src: string | string[] } }) =>
		i.default.src.indexOf(imagePath) !== -1
)

if (!img) throw new Error(`"${imagePath}" does not exist in glob: "./assets/*"`)
---

<Image src={img.default} alt={altText} class={customClass} />
